(this["webpackJsonpmovie-project"]=this["webpackJsonpmovie-project"]||[]).push([[0],{35:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(28),i=n.n(a),o=(n(35),n(8)),s=n(2),u=n(1);var j=function(e){var t=e.input,n=e.onInputChange;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",value:t,onChange:n,required:!0,placeholder:"Type movie title here..."})})},l=n(10),b=n.n(l),v=n(13),p=n(14),d=n.n(p),O="http://www.omdbapi.com/?apikey=".concat("d979f062","&"),f=function(){var e=Object(v.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(O,"s=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(v.a)(b.a.mark((function e(t){var n,c,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=t.split(" "),c=n.filter((function(e){return!e.startsWith("&y=")})).join("+"),r=n.find((function(e){return e.startsWith("&y=")})),console.log("title: ".concat(c),"year: ".concat(r)),e.next=7,d.a.get("".concat(O,"t=").concat(c).concat(r));case 7:return a=e.sent,e.abrupt("return",a.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var c,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(console.log(t,n)),c=t.replace(/ /gi,"%20"),r="https://youtube.googleapis.com/youtube/v3/search?part=snippet&part=id&maxResults=1&q=".concat(c,"%20").concat(n,"%20movie%20trailer&key=").concat("AIzaSyCZYHET5qUNAuAeQWuyEXoZLwniOmK1d-k"),console.log(r),e.next=6,d.a.get(r);case 6:return a=e.sent,e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=n(11);var g=function(e){var t=e.movieData,n=e.onClickToMovie;console.log(n);var c=t.Title,r=t.Poster,a=t.Year;return Object(u.jsx)("div",{className:"suggestion",children:Object(u.jsxs)(m.b,{to:"/".concat(c.trim(),"%20&y=").concat(a),onClick:n,children:[Object(u.jsxs)("h4",{children:[c," ",Object(u.jsxs)("span",{children:["Year: ",a]})]}),Object(u.jsx)("img",{src:r,alt:"".concat(c,"'s Poster")})]})})},y=n(63);var w=function(e){var t=e.input,n=e.onClickToMovie,r=Object(c.useState)([]),a=Object(o.a)(r,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){t&&f(t).then((function(e){return e.Search})).then((function(e){Array.isArray(e)&&s(e)}))}),[t]),Object(u.jsx)("div",{className:"suggestions",children:i.map((function(e){return Object(u.jsx)(g,{movieData:e,onClickToMovie:n},Object(y.a)())}))})};var k=function(e){var t=e.title,n=e.year,r=Object(c.useState)(""),a=Object(o.a)(r,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){x(t,n).then((function(e){s("https://youtube.com/embed/".concat(e.items[0].id.videoId))}))}),[]),Object(u.jsx)("iframe",{src:i,title:"Youtube Trailer",allowFullScreen:!0})},C=n(30);var N=function(){return Object(u.jsxs)("div",{className:"loading-page",children:[Object(u.jsx)(C.a,{}),Object(u.jsx)("p",{children:"Please wait..."})]})};var S=function(){var e=Object(s.e)().id,t=Object(c.useState)({}),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!0),j=Object(o.a)(i,2),l=j[0],b=j[1],v=r.Poster,p=r.Title,d=r.Year,O={Year:r.Year,Actors:r.Actors,Director:r.Director,Genre:r.Genre,Runtime:r.Runtime,Plot:r.Plot,Country:r.Country,Language:r.Language};return Object(c.useEffect)((function(){h(e).then((function(e){a(e),b(!1)}))}),[e]),l?Object(u.jsx)(N,{}):Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{className:"single-movie",children:[Object(u.jsx)("div",{className:"single-movie-img",children:Object(u.jsx)("img",{src:v,alt:"".concat(p," movie's Poster")})}),Object(u.jsxs)("div",{className:"single-movie-content",children:[Object(u.jsx)("h2",{children:p}),Object(u.jsx)("article",{className:"movie-info",children:function(){var e=[];for(var t in O){var n=Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:t}),": ",O[t]]},t);e.push(n)}return e}()})]})]}),Object(u.jsx)("div",{className:"single-movie-trailer",children:Object(u.jsx)(k,{title:p,year:d})})]})};var T=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(u.jsxs)("section",{children:[Object(u.jsx)(j,{input:n,onInputChange:function(e){return r(e.target.value)}}),n&&Object(u.jsx)(w,{input:n,onClickToMovie:function(e){return r("")}}),!n&&Object(u.jsx)(s.a,{exact:!0,path:"/:id",component:S})]})};var A=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(T,{})})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(m.a,{children:Object(u.jsx)(A,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.693b40e5.chunk.js.map